// ------------------------------------------------------------------------------
// <auto-generated>
//
//     This code was generated.
//
//     - To turn off auto-generation set:
//
//         [TestSpaceAutomation (AutoGenerate = false)]
//
//     - To trigger manual generation invoke:
//
//         nuke --generate-configuration SpaceAutomation --host SpaceAutomation
//
// </auto-generated>
// ------------------------------------------------------------------------------

job("Name") {
    volumeSize = 10.gb

    git {
        depth = UNLIMITED_DEPTH
        refSpec {
            +"refs/heads/*:refs/heads/*"
        }
    }

    container("mcr.microsoft.com/dotnet/sdk:5.0") {
        resources {
            cpu = 1.cpu
            memory = 2000.mb
        }
        shellScript {
            content = "./build.sh Test"
        }
    }

    startOn {
        gitPush {
            enabled = true
            branchFilter {
                +"refs/heads/include"
                -"refs/heads/exclude"
                +Regex("\binclude\b")
                -Regex("\bexclude\b")
            }
            pathFilter {
                +"include-path"
                -"exclude-path"
            }
        }
        schedule { cron("* 0 * * *") }
    }

    failOn {
        timeOut { timeOutInMinutes = 15 }
    }
}
